(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const z=10;let i=[],c=100;const I=document.querySelector(".bar-container"),u=document.querySelector(".list-size"),M=document.querySelector(".list-size-value"),A=document.querySelector(".speed"),O=document.querySelector(".speed-value"),C=document.querySelector(".generate-btn"),E=document.querySelector(".sort-btn"),w=document.querySelector(".sort-algo"),P=()=>{u.value=z.toString(),q(),A.value=c.toString(),T(),m(parseInt(u.value))},m=(e=10)=>{i=[],N(e),I.innerText="",k(i,I)},N=(e,r=100,n=5)=>{for(let t=0;t<=e;t++)i.push(Math.floor(Math.random()*(r-n+1)+n))},k=(e,r)=>{let n=0;e.forEach(t=>{const o=document.createElement("div");o.classList.add("bar"),o.id=`bar-${n}`,o.style.height=`${t}%`,o.style.width=`${100/e.length}%`,o.style.margin=`0 ${100/e.length/2}px`,r.appendChild(o),n++})};C.addEventListener("click",()=>{m(parseInt(u.value))});const q=()=>{let e=parseInt(u.value);M.innerText="List size: "+e.toString()},T=()=>{let e=parseInt(A.value);c=-e+1*100.01,O.innerText="Speed: x"+e.toString()},d=e=>new Promise(r=>setTimeout(r,e)),s=(e,r)=>{const n=document.getElementById(`bar-${e}`);n.style.backgroundColor=r},S=(e,r,n)=>{console.log("Set multiple bar color: ",e,r,n);for(let t=e;t<r;t++)s(t,n)},V=e=>document.getElementById(`bar-${e}`).style.backgroundColor,B=e=>{const r=document.getElementById(`bar-${e}`);r.style.backgroundColor="white"},f=(e=0)=>{for(let r=e;r<i.length;r++)B(r)},h=(e,r)=>{const n=document.getElementById(`bar-${e}`),t=document.getElementById(`bar-${r}`),o=n.style.height;n.style.height=t.style.height,t.style.height=o},y=e=>{e?(u.disabled=!0,C.disabled=!0,w.disabled=!0,E.innerText="â¬›"):(u.disabled=!1,C.disabled=!1,w.disabled=!1,E.innerText="Sort")};u.addEventListener("input",function(){const e=parseInt(this.value);m(e),q()});A.addEventListener("input",function(){T()});let g=!1,b=new AbortController;E.addEventListener("click",async()=>{if(g)b.abort(),b=new AbortController,g=!1,y(g);else{switch(g=!0,y(g),w.value){case"selection":await j(i,b);break;case"bubble":await D(i,b);break;case"insertion":await _(i,b);break;case"merge":await F(i,b);break}g=!1,y(g)}});const j=async(e,r)=>{for(let n=0;n<e.length;n++){let t=n;s(n,"#77738E");for(let o=n+1;o<e.length;o++){if(r.signal.aborted){f();return}s(o,"#A089A4"),e[o]<e[t]&&(t=o),await d(c)}if(t!==n){s(t,"#006C5E"),s(n,"#006C5E");let o=e[n];e[n]=e[t],e[t]=o,await d(c*(c/30)),h(n,t)}s(n,"#C8A1B5"),f(n+1)}},D=async(e,r)=>{for(let n=e.length-1;n>0;n--){for(let t=0;t<n;t++){if(r.signal.aborted){f();return}if(s(t,"#77738E"),await d(c),e[t]>e[t+1]){let o=e[t];e[t]=e[t+1],e[t+1]=o,h(t,t+1),B(t),s(t+1,"#006C5E")}else s(t+1,"#006C5E"),await d(c*(c/95)),B(t)}s(n,"#C8A1B5")}s(0,"#C8A1B5")},_=async(e,r)=>{for(let n=1;n<e.length;n++){let t=n-1;for(s(n-1,"#77738E"),await d(c);t>=0&&e[t]>e[t+1];){if(r.signal.aborted){f();return}await d(c*(c/40));let o=e[t];e[t]=e[t+1],e[t+1]=o,h(t,t+1),s(t+1,V(t)),s(t,"#006C5E"),t--}if(r.signal.aborted){f();return}s(t+1,"#C8A1B5"),s(n-1,"#C8A1B5")}},F=async(e,r)=>{if(i=await L([...e],r),r.signal.aborted){m(parseInt(u.value));return}},p=["#77738e","#6e6e89","#656983","#5c657e","#536078","#4a5b72","#42566c","#3a5265","#324d5f","#2a4858"],v=e=>e<p.length?p[e]:p[e%p.length],L=async(e,r,n=0,t=0)=>{const o=e.length/2;if(e.length<2)return e;if(r.signal.aborted)return f(),e;const a=e.splice(0,o),l=v(n),$=v(p.length-n-1);S(t,t+a.length,l),S(t+a.length,t+a.length+e.length,$);const x=t+a.length;return K(await L(a,r,n+10,t),await L(e,r,n,x),t,r)},K=async(e,r,n,t)=>{const o=n+e.length+r.length;let a=[];for(;e.length&&r.length;)if(e[0]<r[0]){for(let l=n+a.length;l<n+a.length;l++)if(s(l,"#006C5E"),await d(c),h(l,l+1),s(l,"#C8A1B5"),s(l+1,"#006C5E"),t.signal.aborted)return f(),[...a,...e,...r];s(n+a.length,"#C8A1B5"),a.push(e.shift())}else{for(let l=n+a.length+e.length;l>n+a.length;l--)if(s(l,"#006C5E"),await d(c),h(l,l-1),s(l,"#C8A1B5"),s(l-1,"#006C5E"),t.signal.aborted)return f(),[...a,...e,...r];s(n+a.length,"#C8A1B5"),a.push(r.shift())}return S(n,o,v(o)),[...a,...e,...r]};P();
